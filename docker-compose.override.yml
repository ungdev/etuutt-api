version: '3'

services:
  application:
    container_name: application
    user: "1000:0"
    environment:
      DATABASE_URL: "mysql://etuutt:abcdef@database:3306/etuutt?serverVersion=mariadb-10.6.3&charset=utf8"
      MAILER_DSN: "smtp://mailer:1025"
    volumes:
      - ./:/var/www/html
      - /var/www/vendor/

  database:
    ports:
      - "3306:3306"

  adminer:
    restart: always
    image: adminer
    environment:
      ADMINER_DEFAULT_DB_HOST: database
      ADMINER_DEFAULT_DB_NAME: etuutt
      ADMINER_DESIGN: lucas-sandery
    ports:
      - "8080:8080"

  mailer:
    restart: always
    image: sj26/mailcatcher
    ports:
      - "1025"
      - "1080:1080"